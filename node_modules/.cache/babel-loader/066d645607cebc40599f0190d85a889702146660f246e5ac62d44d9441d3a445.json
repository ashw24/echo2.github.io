{"ast":null,"code":"import'./google.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faGoogle}from'@fortawesome/free-brands-svg-icons';import{useAuthContext}from'../hooks/useAuthContext';import React,{useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Rectangle=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"rectangle\"});};const Google=()=>{const{dispatch}=useAuthContext();const handleButtonClick=()=>{window.location.href=\"http://localhost:4000/auth\";};useEffect(()=>{const fetchUser=async()=>{console.log(\"fetching user\");const response=await fetch(\"http://localhost:4000/auth/googleUser\",{credentials:'include',mode:'cors'});console.log(\"fetched user:\");const json=await response.json();console.log(json);if(response.ok){dispatch({type:\"LOGIN\",payload:json});}};fetchUser();},[dispatch]);const[showContactModal,setShowContactModal]=useState(false);const[showLoginModal,setShowLoginModal]=useState(false);const openModal=modalName=>{if(modalName==='showContactModal'){setShowContactModal(true);}else if(modalName==='showLoginModal'){setShowLoginModal(true);}};const closeModal=modalName=>{if(modalName==='showContactModal'){setShowContactModal(false);}else if(modalName==='showLoginModal'){setShowLoginModal(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"main\",{className:\"App-main\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"login-google-btn\",onClick:handleButtonClick,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Sign in with Google\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGoogle,className:\"google-icon\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Cancel\"})})]})})})});};export default Google;","map":{"version":3,"names":["FontAwesomeIcon","faGoogle","useAuthContext","React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Rectangle","className","Google","dispatch","handleButtonClick","window","location","href","fetchUser","console","log","response","fetch","credentials","mode","json","ok","type","payload","showContactModal","setShowContactModal","showLoginModal","setShowLoginModal","openModal","modalName","closeModal","children","onClick","icon"],"sources":["/Users/ashwin/Downloads/echo2.github.io/src/components/google.js"],"sourcesContent":["import './google.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons';\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport React, { useState, useEffect } from 'react';\n\n\nconst Rectangle = () => {\n  return (\n    <div className=\"rectangle\"></div>\n  );\n}\n\nconst Google = () => {\n    const { dispatch } = useAuthContext();\n    const handleButtonClick = () => {\n      window.location.href = \"http://localhost:4000/auth\";\n    };\n  useEffect(() => {\n    const fetchUser = async () => {\n      console.log(\"fetching user\");\n\n\n      const response = await fetch(\"http://localhost:4000/auth/googleUser\", {\n        credentials: 'include',\n        mode: 'cors'\n      });\n\n      console.log(\"fetched user:\");\n\n  \n      const json = await response.json();\n      console.log(json);\n  \n      if (response.ok) {\n        dispatch({ type: \"LOGIN\", payload: json })\n      }\n    };\n  \n    fetchUser();\n  }, [dispatch]);\n    const [showContactModal, setShowContactModal] = useState(false);\n    const [showLoginModal, setShowLoginModal] = useState(false);\n  \n    const openModal = (modalName) => {\n      if (modalName === 'showContactModal') {\n        setShowContactModal(true);\n      } else if (modalName === 'showLoginModal') {\n        setShowLoginModal(true);\n      }\n    };\n  \n    const closeModal = (modalName) => {\n      if (modalName === 'showContactModal') {\n        setShowContactModal(false);\n      } else if (modalName === 'showLoginModal') {\n        setShowLoginModal(false);\n      }\n    };\n  return (\n    <div className=\"App\">\n      <main className=\"App-main\">\n        <div>\n            <p className='login'>\n              <h1>Login</h1>\n              <button className=\"login-google-btn\" onClick={handleButtonClick}>\n                <span>Sign in with Google</span>\n                <FontAwesomeIcon icon={faGoogle} className=\"google-icon\" />\n              </button>\n              <button className=\"cancel\">\n                <span>Cancel</span>\n              </button>\n            </p>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default Google;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}