{"ast":null,"code":"import'./google.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faTimesCircle}from'@fortawesome/free-solid-svg-icons';// Import the times circle (X mark) icon\nimport{useAuthContext}from'../hooks/useAuthContext';import React,{useState,useEffect}from'react';import{useLogout}from\"../hooks/useLogout\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Rectangle=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"rectangle\"});};const Google=()=>{const{logout}=useLogout();const handleLogout=()=>{logout();};const{dispatch}=useAuthContext();const handleButtonClick=()=>{window.location.href=\"http://localhost:4000/auth\";};useEffect(()=>{const fetchUser=async()=>{console.log(\"fetching user\");const response=await fetch(\"http://localhost:4000/auth/googleUser\",{credentials:'include',mode:'cors'});console.log(\"fetched user:\");const json=await response.json();console.log(json);if(response.ok){dispatch({type:\"LOGIN\",payload:json});}};fetchUser();},[dispatch]);const[showContactModal,setShowContactModal]=useState(false);const[showLoginModal,setShowLoginModal]=useState(false);const openModal=modalName=>{if(modalName==='showContactModal'){setShowContactModal(true);}else if(modalName==='showLoginModal'){setShowLoginModal(true);}};const closeModal=modalName=>{if(modalName==='showContactModal'){setShowContactModal(false);}else if(modalName==='showLoginModal'){setShowLoginModal(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"main\",{className:\"App-main\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Failed\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimesCircle,style:{color:'red',width:'30%',height:'30%'}}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",onClick:handleLogout,children:\"Cancel\"})]})})})});};export default Google;","map":{"version":3,"names":["FontAwesomeIcon","faTimesCircle","useAuthContext","React","useState","useEffect","useLogout","jsx","_jsx","jsxs","_jsxs","Rectangle","className","Google","logout","handleLogout","dispatch","handleButtonClick","window","location","href","fetchUser","console","log","response","fetch","credentials","mode","json","ok","type","payload","showContactModal","setShowContactModal","showLoginModal","setShowLoginModal","openModal","modalName","closeModal","children","icon","style","color","width","height","onClick"],"sources":["/Users/ashwin/Downloads/echo2.github.io/src/components/failed.js"],"sourcesContent":["import './google.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimesCircle } from '@fortawesome/free-solid-svg-icons'; // Import the times circle (X mark) icon\nimport { useAuthContext } from '../hooks/useAuthContext';\nimport React, { useState, useEffect } from 'react';\nimport { useLogout } from \"../hooks/useLogout\";\n\n\n\nconst Rectangle = () => {\n  return (\n    <div className=\"rectangle\"></div>\n  );\n}\n\nconst Google = () => {\n    const { logout } = useLogout()\n    const handleLogout = () => {\n        logout()\n    };\n    const { dispatch } = useAuthContext();\n    const handleButtonClick = () => {\n      window.location.href = \"http://localhost:4000/auth\";\n    };\n  useEffect(() => {\n    const fetchUser = async () => {\n      console.log(\"fetching user\");\n\n\n      const response = await fetch(\"http://localhost:4000/auth/googleUser\", {\n        credentials: 'include',\n        mode: 'cors'\n      });\n\n      console.log(\"fetched user:\");\n\n  \n      const json = await response.json();\n      console.log(json);\n  \n      if (response.ok) {\n        dispatch({ type: \"LOGIN\", payload: json })\n      }\n    };\n  \n    fetchUser();\n  }, [dispatch]);\n    const [showContactModal, setShowContactModal] = useState(false);\n    const [showLoginModal, setShowLoginModal] = useState(false);\n  \n    const openModal = (modalName) => {\n      if (modalName === 'showContactModal') {\n        setShowContactModal(true);\n      } else if (modalName === 'showLoginModal') {\n        setShowLoginModal(true);\n      }\n    };\n  \n    const closeModal = (modalName) => {\n      if (modalName === 'showContactModal') {\n        setShowContactModal(false);\n      } else if (modalName === 'showLoginModal') {\n        setShowLoginModal(false);\n      }\n    };\n\n    return (\n        <div className=\"App\">\n          <main className=\"App-main\">\n            <div>\n                <p className='login'>\n                  <h1>Failed</h1>\n                  <FontAwesomeIcon icon={faTimesCircle} style={{color: 'red', width: '30%',   height: '30%'}} />\n                  <button className=\"cancel\" onClick={handleLogout}>\n                  Cancel\n                </button>\n                </p>\n            </div>\n          </main>\n        </div>\n      );\n}\n\nexport default Google;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}